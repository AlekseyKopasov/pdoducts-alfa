(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[61],{1627:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>u});var r=i(5155),t=i(6387),l=i(2461),d=i(5695),c=i(2177),a=i(7129);let o=a.Ik({title:a.Yj().required("Title is required").min(3),description:a.Yj().required("Description is required").min(10),price:a.ai().required("Price is required").positive(),image:a.Yj().required("Image URL is required").test("is-url","Invalid URL",e=>{if(!e)return!1;try{return new URL(e),!0}catch(e){return!1}})});function u(){let{addProduct:e}=(0,t.z)(),s=(0,d.useRouter)(),{register:i,handleSubmit:a,formState:{errors:u}}=(0,c.mN)({resolver:(0,l.t)(o)});return(0,r.jsxs)("div",{className:"container mx-auto p-4 max-w-2xl",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Create New Product"}),(0,r.jsxs)("form",{onSubmit:a(i=>{e(i),s.push("/products")}),className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block mb-1",children:"Title"}),(0,r.jsx)("input",{...i("title"),className:"w-full p-2 border rounded"}),u.title&&(0,r.jsx)("p",{className:"text-red-500",children:u.title.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block mb-1",children:"Description"}),(0,r.jsx)("textarea",{...i("description"),className:"w-full p-2 border rounded",rows:4}),u.description&&(0,r.jsx)("p",{className:"text-red-500",children:u.description.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block mb-1",children:"Price"}),(0,r.jsx)("input",{type:"number",...i("price"),className:"w-full p-2 border rounded"}),u.price&&(0,r.jsx)("p",{className:"text-red-500",children:u.price.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block mb-1",children:"Image URL"}),(0,r.jsx)("input",{...i("image"),className:"w-full p-2 border rounded"}),u.image&&(0,r.jsx)("p",{className:"text-red-500",children:u.image.message})]}),(0,r.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Create Product"})]})]})}},2214:(e,s,i)=>{Promise.resolve().then(i.bind(i,1627))},6387:(e,s,i)=>{"use strict";i.d(s,{z:()=>l});var r=i(5453),t=i(6786);let l=(0,r.v)()((0,t.Zr)((e,s)=>({allProducts:[],visibleProducts:[],isLoading:!1,addProduct:i=>{let r={...i,id:Date.now()};e({allProducts:[r,...s().allProducts],visibleProducts:[r,...s().visibleProducts.slice(0,5)]})},deleteProduct:i=>{e({allProducts:s().allProducts.filter(e=>e.id!==i),visibleProducts:s().visibleProducts.filter(e=>e.id!==i)})},toggleLike:i=>{let r=e=>e.map(e=>e.id===i?{...e,liked:!e.liked}:e);e({allProducts:r(s().allProducts),visibleProducts:r(s().visibleProducts)})},updateProduct:(i,r)=>{let t=e=>e.map(e=>e.id===i?{...e,...r}:e);e({allProducts:t(s().allProducts),visibleProducts:t(s().visibleProducts)})},fetchProducts:async()=>{e({isLoading:!0});let s=await fetch("https://fakestoreapi.com/products"),i=(await s.json()).map(e=>({...e,liked:!1,description:e.description}));e({allProducts:i,visibleProducts:i.slice(0,6),isLoading:!1})},loadMoreProducts:()=>{let{allProducts:i,visibleProducts:r}=s();r.length>=i.length||e({visibleProducts:[...r,...i.slice(r.length,r.length+3)]})}}),{name:"products-store"}))}},e=>{var s=s=>e(e.s=s);e.O(0,[264,441,684,358],()=>s(2214)),_N_E=e.O()}]);