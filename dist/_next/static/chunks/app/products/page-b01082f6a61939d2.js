(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[571],{5267:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var l=r(5881),s=r(6797),o=r(70),i=r.n(o),a=r(8067),c=r(380),n=r(1309);let d=e=>{let{product:t}=e,{deleteProduct:r,toggleLike:s}=(0,a.z)();return(0,l.jsx)(i(),{href:"/products/".concat(t.id),className:"group relative block",children:(0,l.jsxs)("div",{className:"flex flex-col h-full border p-4 rounded-lg hover:shadow-lg transition-shadow",children:[(0,l.jsxs)("div",{className:"relative h-48 mb-4",children:[(0,l.jsx)(n.default,{src:t.image,alt:t.title,width:200,height:200,className:"w-full h-full object-contain"}),(0,l.jsxs)("div",{className:"absolute top-2 right-2 flex gap-2",children:[(0,l.jsx)("button",{onClick:e=>{e.preventDefault(),s(t.id)},className:"p-2 ".concat(t.liked?"text-red-500":"text-gray-400"),children:(0,l.jsx)(c.icx,{size:20})}),(0,l.jsx)("button",{onClick:e=>{e.preventDefault(),r(t.id)},className:"p-2 text-gray-400 hover:text-red-500",children:(0,l.jsx)(c.IXo,{size:20})})]})]}),(0,l.jsx)("h3",{className:"font-bold truncate",children:t.title}),(0,l.jsx)("p",{className:"mb-2 text-gray-600 line-clamp-3",children:t.description}),(0,l.jsxs)("p",{className:"mt-auto font-bold",children:["$",t.price]})]})})};d.displayName="ProductCard";let u=(0,s.memo)(d),p=e=>{(0,s.useEffect)(()=>{let t=()=>{let{scrollTop:t,clientHeight:r,scrollHeight:l}=document.documentElement;t+r>=l&&e()};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[e])};function f(){let{visibleProducts:e,allProducts:t,isLoading:r,fetchProducts:o,loadMoreProducts:c}=(0,a.z)(),[n,d]=(0,s.useState)("all"),[f,m]=(0,s.useState)(""),v=e.filter(e=>{let t=e.title.toLowerCase().includes(f.toLowerCase())||e.description.toLowerCase().includes(f.toLowerCase()),r="favorites"!==n||e.liked;return t&&r});return(0,s.useEffect)(()=>{0===t.length&&o()},[o,t]),p(()=>{"all"!==n||f||c()}),(0,l.jsxs)("div",{className:"container mx-auto p-4",children:[(0,l.jsxs)("div",{className:"flex flex-col md:flex-row justify-between gap-4 mb-6",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold",children:"Products"}),(0,l.jsxs)("div",{className:"flex flex-col md:flex-row gap-2",children:[(0,l.jsx)("input",{type:"text",placeholder:"Search products...",className:"p-2 border rounded",value:f,onChange:e=>m(e.target.value)}),(0,l.jsxs)("select",{value:n,onChange:e=>d(e.target.value),className:"p-2 border rounded",children:[(0,l.jsx)("option",{value:"all",children:"All Products"}),(0,l.jsx)("option",{value:"favorites",children:"Favorites"})]}),(0,l.jsx)(i(),{href:"/create-product",className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded transition-colors",children:"Create Product"})]})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:v.length>0?v.map(e=>(0,l.jsx)(u,{product:e},e.id)):(0,l.jsx)("p",{className:"col-span-3 text-center text-gray-500 py-8",children:r?"Loading...":"No products found"})}),r&&(0,l.jsx)("div",{className:"flex justify-center my-8",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})})]})}},6919:(e,t,r)=>{"use strict";r.d(t,{k5:()=>d});var l=r(6797),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=l.createContext&&l.createContext(s),i=["attr","size","title"];function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e}).apply(this,arguments)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,l)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var l,s,o;l=e,s=t,o=r[t],(s=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var l=r.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(s))in l?Object.defineProperty(l,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[s]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return t=>l.createElement(u,a({attr:n({},e.attr)},t),function e(t){return t&&t.map((t,r)=>l.createElement(t.tag,n({key:r},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var r,{attr:s,size:o,title:c}=e,d=function(e,t){if(null==e)return{};var r,l,s=function(e,t){if(null==e)return{};var r={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(t.indexOf(l)>=0)continue;r[l]=e[l]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(l=0;l<o.length;l++)r=o[l],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,i),u=o||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),l.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,d,{className:r,style:n(n({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),c&&l.createElement("title",null,c),e.children)};return void 0!==o?l.createElement(o.Consumer,null,e=>t(e)):t(s)}},7175:(e,t,r)=>{Promise.resolve().then(r.bind(r,5267))},8067:(e,t,r)=>{"use strict";r.d(t,{z:()=>o});var l=r(8837),s=r(7155);let o=(0,l.v)()((0,s.Zr)((e,t)=>({allProducts:[],visibleProducts:[],isLoading:!1,addProduct:r=>{let l={...r,id:Date.now()};e({allProducts:[l,...t().allProducts],visibleProducts:[l,...t().visibleProducts.slice(0,5)]})},deleteProduct:r=>{e({allProducts:t().allProducts.filter(e=>e.id!==r),visibleProducts:t().visibleProducts.filter(e=>e.id!==r)})},toggleLike:r=>{let l=e=>e.map(e=>e.id===r?{...e,liked:!e.liked}:e);e({allProducts:l(t().allProducts),visibleProducts:l(t().visibleProducts)})},updateProduct:(r,l)=>{let s=e=>e.map(e=>e.id===r?{...e,...l}:e);e({allProducts:s(t().allProducts),visibleProducts:s(t().visibleProducts)})},fetchProducts:async()=>{e({isLoading:!0});let t=await fetch("https://fakestoreapi.com/products"),r=(await t.json()).map(e=>({...e,liked:!1,description:e.description}));e({allProducts:r,visibleProducts:r.slice(0,6),isLoading:!1})},loadMoreProducts:()=>{let{allProducts:r,visibleProducts:l}=t();l.length>=r.length||e({visibleProducts:[...l,...r.slice(l.length,l.length+3)]})}}),{name:"products-store"}))}},e=>{var t=t=>e(e.s=t);e.O(0,[215,823,364,770,358],()=>t(7175)),_N_E=e.O()}]);