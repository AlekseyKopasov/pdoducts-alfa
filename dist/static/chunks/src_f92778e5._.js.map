{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/product-app/src/components/ProductCard.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { Product } from '@/store/products';\r\nimport Link from 'next/link';\r\nimport { useProductsStore } from '@/store/products';\r\nimport { FiHeart, FiTrash2 } from 'react-icons/fi';\r\nimport Image from 'next/image';\r\nimport { memo } from 'react';\r\n\r\nconst ProductCard = ({ product }: { product: Product }) => {\r\n  const { deleteProduct, toggleLike } = useProductsStore()\r\n\r\n  return (\r\n    <Link href={`/products/${product.id}`} className='group relative block'>\r\n      <div className=\"flex flex-col h-full border p-4 rounded-lg hover:shadow-lg transition-shadow\">\r\n        <div className=\"relative h-48 mb-4\">\r\n          <Image\r\n            src={product.image}\r\n            alt={product.title}\r\n            width={200}\r\n            height={200}\r\n            className=\"w-full h-full object-contain\"\r\n          />\r\n          <div className=\"absolute top-2 right-2 flex gap-2\">\r\n            <button\r\n              onClick={(e) => {\r\n                e.preventDefault()\r\n                toggleLike(product.id)\r\n              }}\r\n              className={`p-2 ${product.liked ? 'text-red-500' : 'text-gray-400'}`}\r\n            >\r\n              <FiHeart size={20} />\r\n            </button>\r\n            <button\r\n              onClick={(e) => {\r\n                e.preventDefault()\r\n                deleteProduct(product.id)\r\n              }}\r\n              className=\"p-2 text-gray-400 hover:text-red-500\"\r\n            >\r\n              <FiTrash2 size={20} />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <h3 className='font-bold truncate'>{product.title}</h3>\r\n        <p className='mb-2 text-gray-600 line-clamp-3'>{product.description}</p>\r\n        <p className='mt-auto font-bold'>${product.price}</p>\r\n      </div>\r\n    </Link>\r\n  )\r\n}\r\n\r\nProductCard.displayName = 'ProductCard'\r\n\r\nexport default memo(ProductCard)\r\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;AASA,MAAM,cAAc,CAAC,EAAE,OAAO,EAAwB;;IACpD,MAAM,EAAE,aAAa,EAAE,UAAU,EAAE,GAAG,CAAA,GAAA,2HAAA,CAAA,mBAAgB,AAAD;IAErD,qBACE,6LAAC,+JAAA,CAAA,UAAI;QAAC,MAAM,CAAC,UAAU,EAAE,QAAQ,EAAE,EAAE;QAAE,WAAU;kBAC/C,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,gIAAA,CAAA,UAAK;4BACJ,KAAK,QAAQ,KAAK;4BAClB,KAAK,QAAQ,KAAK;4BAClB,OAAO;4BACP,QAAQ;4BACR,WAAU;;;;;;sCAEZ,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCACC,SAAS,CAAC;wCACR,EAAE,cAAc;wCAChB,WAAW,QAAQ,EAAE;oCACvB;oCACA,WAAW,CAAC,IAAI,EAAE,QAAQ,KAAK,GAAG,iBAAiB,iBAAiB;8CAEpE,cAAA,6LAAC,iJAAA,CAAA,UAAO;wCAAC,MAAM;;;;;;;;;;;8CAEjB,6LAAC;oCACC,SAAS,CAAC;wCACR,EAAE,cAAc;wCAChB,cAAc,QAAQ,EAAE;oCAC1B;oCACA,WAAU;8CAEV,cAAA,6LAAC,iJAAA,CAAA,WAAQ;wCAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;8BAKtB,6LAAC;oBAAG,WAAU;8BAAsB,QAAQ,KAAK;;;;;;8BACjD,6LAAC;oBAAE,WAAU;8BAAmC,QAAQ,WAAW;;;;;;8BACnE,6LAAC;oBAAE,WAAU;;wBAAoB;wBAAE,QAAQ,KAAK;;;;;;;;;;;;;;;;;;AAIxD;GA1CM;;QACkC,2HAAA,CAAA,mBAAgB;;;KADlD;AA4CN,YAAY,WAAW,GAAG;2DAEX,CAAA,GAAA,6JAAA,CAAA,OAAI,AAAD,EAAE","debugId":null}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/product-app/src/hooks/useInfiniteScroll.ts"],"sourcesContent":["import { useEffect } from 'react'\r\n\r\nexport const useInfiniteScroll = (loadMore: () => void) => {\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      const { scrollTop, clientHeight, scrollHeight } = document.documentElement\r\n\r\n      if (scrollTop + clientHeight >= scrollHeight) {\r\n        loadMore()\r\n      }\r\n    }\r\n\r\n    window.addEventListener('scroll', handleScroll)\r\n\r\n    return () => window.removeEventListener('scroll', handleScroll)\r\n  }, [loadMore])\r\n}"],"names":[],"mappings":";;;AAAA;;;AAEO,MAAM,oBAAoB,CAAC;;IAChC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;uCAAE;YACR,MAAM;4DAAe;oBACnB,MAAM,EAAE,SAAS,EAAE,YAAY,EAAE,YAAY,EAAE,GAAG,SAAS,eAAe;oBAE1E,IAAI,YAAY,gBAAgB,cAAc;wBAC5C;oBACF;gBACF;;YAEA,OAAO,gBAAgB,CAAC,UAAU;YAElC;+CAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;;QACpD;sCAAG;QAAC;KAAS;AACf;GAda","debugId":null}},
    {"offset": {"line": 194, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/product-app/src/app/products/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport Link from 'next/link';\r\nimport ProductCard from '@/components/ProductCard';\r\nimport { useProductsStore } from '@/store/products';\r\nimport { useInfiniteScroll } from '@/hooks/useInfiniteScroll';\r\n\r\nexport default function ProductsPage() {\r\n  const {\r\n    visibleProducts,\r\n    allProducts,\r\n    isLoading,\r\n    fetchProducts,\r\n    loadMoreProducts\r\n  } = useProductsStore();\r\n\r\n  const [filter, setFilter] = useState<'all' | 'favorites'>('all');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n  // Фильтрация товаров\r\n  const filteredProducts = visibleProducts.filter(product => {\r\n    const matchesSearch = product.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      product.description.toLowerCase().includes(searchQuery.toLowerCase());\r\n    const matchesFilter = filter === 'favorites' ? product.liked : true;\r\n    return matchesSearch && matchesFilter;\r\n  });\r\n\r\n  // Загружаем товары при монтировании\r\n  useEffect(() => {\r\n    if (allProducts.length === 0) {\r\n      fetchProducts();\r\n    }\r\n  }, [fetchProducts, allProducts]);\r\n\r\n  // Подключаем бесконечный скролл\r\n  useInfiniteScroll(() => {\r\n    if (filter === 'all' && !searchQuery) {\r\n      loadMoreProducts();\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-4\">\r\n      <div className=\"flex flex-col md:flex-row justify-between gap-4 mb-6\">\r\n        <h1 className=\"text-3xl font-bold\">Products</h1>\r\n\r\n        <div className=\"flex flex-col md:flex-row gap-2\">\r\n          {/* Поиск */}\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search products...\"\r\n            className=\"p-2 border rounded\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n          />\r\n\r\n          {/* Фильтр */}\r\n          <select\r\n            value={filter}\r\n            onChange={(e) => setFilter(e.target.value as 'all' | 'favorites')}\r\n            className=\"p-2 border rounded\"\r\n          >\r\n            <option value=\"all\">All Products</option>\r\n            <option value=\"favorites\">Favorites</option>\r\n          </select>\r\n\r\n          {/* Кнопка создания */}\r\n          <Link\r\n            href=\"/create-product\"\r\n            className=\"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded transition-colors\"\r\n          >\r\n            Create Product\r\n          </Link>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Список товаров */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n        {filteredProducts.length > 0 ? (\r\n          filteredProducts.map((product) => (\r\n            <ProductCard key={product.id} product={product} />\r\n          ))\r\n        ) : (\r\n          <p className=\"col-span-3 text-center text-gray-500 py-8\">\r\n            {isLoading ? 'Loading...' : 'No products found'}\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      {/* Индикатор загрузки */}\r\n      {isLoading && (\r\n        <div className=\"flex justify-center my-8\">\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500\"></div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAQe,SAAS;;IACtB,MAAM,EACJ,eAAe,EACf,WAAW,EACX,SAAS,EACT,aAAa,EACb,gBAAgB,EACjB,GAAG,CAAA,GAAA,2HAAA,CAAA,mBAAgB,AAAD;IAEnB,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAuB;IAC1D,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,qBAAqB;IACrB,MAAM,mBAAmB,gBAAgB,MAAM,CAAC,CAAA;QAC9C,MAAM,gBAAgB,QAAQ,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,YAAY,WAAW,OAChF,QAAQ,WAAW,CAAC,WAAW,GAAG,QAAQ,CAAC,YAAY,WAAW;QACpE,MAAM,gBAAgB,WAAW,cAAc,QAAQ,KAAK,GAAG;QAC/D,OAAO,iBAAiB;IAC1B;IAEA,oCAAoC;IACpC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,IAAI,YAAY,MAAM,KAAK,GAAG;gBAC5B;YACF;QACF;iCAAG;QAAC;QAAe;KAAY;IAE/B,gCAAgC;IAChC,CAAA,GAAA,oIAAA,CAAA,oBAAiB,AAAD;0CAAE;YAChB,IAAI,WAAW,SAAS,CAAC,aAAa;gBACpC;YACF;QACF;;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAqB;;;;;;kCAEnC,6LAAC;wBAAI,WAAU;;0CAEb,6LAAC;gCACC,MAAK;gCACL,aAAY;gCACZ,WAAU;gCACV,OAAO;gCACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;0CAIhD,6LAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;gCACzC,WAAU;;kDAEV,6LAAC;wCAAO,OAAM;kDAAM;;;;;;kDACpB,6LAAC;wCAAO,OAAM;kDAAY;;;;;;;;;;;;0CAI5B,6LAAC,+JAAA,CAAA,UAAI;gCACH,MAAK;gCACL,WAAU;0CACX;;;;;;;;;;;;;;;;;;0BAOL,6LAAC;gBAAI,WAAU;0BACZ,iBAAiB,MAAM,GAAG,IACzB,iBAAiB,GAAG,CAAC,CAAC,wBACpB,6LAAC,oIAAA,CAAA,UAAW;wBAAkB,SAAS;uBAArB,QAAQ,EAAE;;;;8CAG9B,6LAAC;oBAAE,WAAU;8BACV,YAAY,eAAe;;;;;;;;;;;YAMjC,2BACC,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;;;;;;;;;;;;;;;;AAKzB;GA1FwB;;QAOlB,2HAAA,CAAA,mBAAgB;QAqBpB,oIAAA,CAAA,oBAAiB;;;KA5BK","debugId":null}}]
}